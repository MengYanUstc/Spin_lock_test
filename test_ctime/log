
lockbench.o:     file format elf64-littleaarch64


Disassembly of section .text:

0000000000000000 <thread_fn>:
   0:	a9be7bfd 	stp	x29, x30, [sp,#-32]!
   4:	910003fd 	mov	x29, sp
   8:	a90153f3 	stp	x19, x20, [sp,#16]
   c:	aa0003f3 	mov	x19, x0
  10:	aa1e03e0 	mov	x0, x30
  14:	94000000 	bl	0 <_mcount>
  18:	58000394 	ldr	x20, 88 <thread_fn+0x88>
  1c:	14000004 	b	2c <thread_fn+0x2c>
  20:	79400280 	ldrh	w0, [x20]
  24:	11000400 	add	w0, w0, #0x1
  28:	489ffe80 	stlrh	w0, [x20]
  2c:	aa1403e0 	mov	x0, x20
  30:	94000000 	bl	0 <_raw_spin_lock>
  34:	a9410261 	ldp	x1, x0, [x19,#16]
  38:	91000400 	add	x0, x0, #0x1
  3c:	eb01001f 	cmp	x0, x1
  40:	f9000e60 	str	x0, [x19,#24]
  44:	54fffeed 	b.le	20 <thread_fn+0x20>
  48:	79400280 	ldrh	w0, [x20]
  4c:	11000400 	add	w0, w0, #0x1
  50:	489ffe80 	stlrh	w0, [x20]
  54:	91002282 	add	x2, x20, #0x8
  58:	f9800051 	prfm	pstl1strm, [x2]
  5c:	885f7c40 	ldxr	w0, [x2]
  60:	51000400 	sub	w0, w0, #0x1
  64:	8801fc40 	stlxr	w1, w0, [x2]
  68:	35ffffa1 	cbnz	w1, 5c <thread_fn+0x5c>
  6c:	d5033bbf 	dmb	ish
  70:	34000060 	cbz	w0, 7c <thread_fn+0x7c>
  74:	d2800000 	mov	x0, #0x0                   	// #0
  78:	94000000 	bl	0 <do_exit>
  7c:	580000a0 	ldr	x0, 90 <thread_fn+0x90>
  80:	94000000 	bl	0 <complete>
  84:	17fffffc 	b	74 <thread_fn+0x74>
	...

0000000000000098 <monitor>:
  98:	a9b87bfd 	stp	x29, x30, [sp,#-128]!
  9c:	910003fd 	mov	x29, sp
  a0:	a90153f3 	stp	x19, x20, [sp,#16]
  a4:	a9025bf5 	stp	x21, x22, [sp,#32]
  a8:	a90363f7 	stp	x23, x24, [sp,#48]
  ac:	a9046bf9 	stp	x25, x26, [sp,#64]
  b0:	a90573fb 	stp	x27, x28, [sp,#80]
  b4:	aa1e03e0 	mov	x0, x30
  b8:	94000000 	bl	0 <_mcount>
  bc:	58002222 	ldr	x2, 500 <monitor+0x468>
  c0:	52800021 	mov	w1, #0x1                   	// #1
  c4:	58002220 	ldr	x0, 508 <monitor+0x470>
  c8:	f9400043 	ldr	x3, [x2]
  cc:	f9003fa3 	str	x3, [x29,#120]
  d0:	d2800003 	mov	x3, #0x0                   	// #0
  d4:	b90073a1 	str	w1, [x29,#112]
  d8:	94000000 	bl	0 <printk>
  dc:	580021bc 	ldr	x28, 510 <monitor+0x478>
  e0:	d2a00402 	mov	x2, #0x200000              	// #2097152
  e4:	580021a0 	ldr	x0, 518 <monitor+0x480>
  e8:	aa0203e1 	mov	x1, x2
  ec:	f9000b82 	str	x2, [x28,#16]
  f0:	94000000 	bl	0 <printk>
  f4:	580021f4 	ldr	x20, 530 <monitor+0x498>
  f8:	b9401b80 	ldr	w0, [x28,#24]
  fc:	f90033b4 	str	x20, [x29,#96]
 100:	580021d5 	ldr	x21, 538 <monitor+0x4a0>
 104:	580020e1 	ldr	x1, 520 <monitor+0x488>
 108:	11000400 	add	w0, w0, #0x1
 10c:	b9000b80 	str	w0, [x28,#8]
 110:	7900039f 	strh	wzr, [x28]
 114:	7900079f 	strh	wzr, [x28,#2]
 118:	b900003f 	str	wzr, [x1]
 11c:	b9001b80 	str	w0, [x28,#24]
 120:	a9027f9f 	stp	xzr, xzr, [x28,#32]
 124:	b9003380 	str	w0, [x28,#48]
 128:	34000c20 	cbz	w0, 2ac <monitor+0x214>
 12c:	58001fe0 	ldr	x0, 528 <monitor+0x490>
 130:	b203e7f8 	mov	x24, #0x6666666666666666    	// #7378697629483820646
 134:	58002077 	ldr	x23, 540 <monitor+0x4a8>
 138:	5280001b 	mov	w27, #0x0                   	// #0
 13c:	aa0003f3 	mov	x19, x0
 140:	58002056 	ldr	x22, 548 <monitor+0x4b0>
 144:	f28cccf8 	movk	x24, #0x6667
 148:	f90037a0 	str	x0, [x29,#104]
 14c:	14000016 	b	1a4 <monitor+0x10c>
 150:	2a1b03e1 	mov	w1, w27
 154:	94000000 	bl	0 <kthread_bind>
 158:	b83a6a9b 	str	w27, [x20,x26]
 15c:	b9401b80 	ldr	w0, [x28,#24]
 160:	7100801f 	cmp	w0, #0x20
 164:	f9400b80 	ldr	x0, [x28,#16]
 168:	54000089 	b.ls	178 <monitor+0xe0>
 16c:	9b587c01 	smulh	x1, x0, x24
 170:	9342fc21 	asr	x1, x1, #2
 174:	cb80fc20 	sub	x0, x1, x0, asr #63
 178:	a9017f20 	stp	x0, xzr, [x25,#16]
 17c:	9101c3a2 	add	x2, x29, #0x70
 180:	f9402380 	ldr	x0, [x28,#64]
 184:	52800021 	mov	w1, #0x1                   	// #1
 188:	94000000 	bl	0 <sched_setscheduler>
 18c:	35000220 	cbnz	w0, 1d0 <monitor+0x138>
 190:	b9401b80 	ldr	w0, [x28,#24]
 194:	1100077b 	add	w27, w27, #0x1
 198:	91002273 	add	x19, x19, #0x8
 19c:	6b00037f 	cmp	w27, w0
 1a0:	540006c2 	b.cs	278 <monitor+0x1e0>
 1a4:	f940027a 	ldr	x26, [x19]
 1a8:	2a1b03e4 	mov	w4, w27
 1ac:	aa1703e3 	mov	x3, x23
 1b0:	aa1603e0 	mov	x0, x22
 1b4:	8b1a0299 	add	x25, x20, x26
 1b8:	aa1903e1 	mov	x1, x25
 1bc:	b8756b42 	ldr	w2, [x26,x21]
 1c0:	94000000 	bl	0 <kthread_create_on_node>
 1c4:	b140041f 	cmn	x0, #0x1, lsl #12
 1c8:	f9000720 	str	x0, [x25,#8]
 1cc:	54fffc29 	b.ls	150 <monitor+0xb8>
 1d0:	58001d40 	ldr	x0, 578 <monitor+0x4e0>
 1d4:	b9000b9b 	str	w27, [x28,#8]
 1d8:	94000000 	bl	0 <printk>
 1dc:	b9401b80 	ldr	w0, [x28,#24]
 1e0:	340002a0 	cbz	w0, 234 <monitor+0x19c>
 1e4:	58001a20 	ldr	x0, 528 <monitor+0x490>
 1e8:	58001a59 	ldr	x25, 530 <monitor+0x498>
 1ec:	f9400000 	ldr	x0, [x0]
 1f0:	8b190000 	add	x0, x0, x25
 1f4:	f9400400 	ldr	x0, [x0,#8]
 1f8:	b140041f 	cmn	x0, #0x1, lsl #12
 1fc:	540001c8 	b.hi	234 <monitor+0x19c>
 200:	58001941 	ldr	x1, 528 <monitor+0x490>
 204:	52800013 	mov	w19, #0x0                   	// #0
 208:	9100203a 	add	x26, x1, #0x8
 20c:	94000000 	bl	0 <wake_up_process>
 210:	11000673 	add	w19, w19, #0x1
 214:	b9401b80 	ldr	w0, [x28,#24]
 218:	6b00027f 	cmp	w19, w0
 21c:	540000c2 	b.cs	234 <monitor+0x19c>
 220:	f8408740 	ldr	x0, [x26],#8
 224:	8b190000 	add	x0, x0, x25
 228:	f9400400 	ldr	x0, [x0,#8]
 22c:	b140041f 	cmn	x0, #0x1, lsl #12
 230:	54fffee9 	b.ls	20c <monitor+0x174>
 234:	12800000 	mov	w0, #0xffffffff            	// #-1
 238:	b9006380 	str	w0, [x28,#96]
 23c:	580019a0 	ldr	x0, 570 <monitor+0x4d8>
 240:	94000000 	bl	0 <module_put>
 244:	580015e0 	ldr	x0, 500 <monitor+0x468>
 248:	f9403fa2 	ldr	x2, [x29,#120]
 24c:	f9400001 	ldr	x1, [x0]
 250:	ca010041 	eor	x1, x2, x1
 254:	52800000 	mov	w0, #0x0                   	// #0
 258:	b5001281 	cbnz	x1, 4a8 <monitor+0x410>
 25c:	a94153f3 	ldp	x19, x20, [sp,#16]
 260:	a9425bf5 	ldp	x21, x22, [sp,#32]
 264:	a94363f7 	ldp	x23, x24, [sp,#48]
 268:	a9446bf9 	ldp	x25, x26, [sp,#64]
 26c:	a94573fb 	ldp	x27, x28, [sp,#80]
 270:	a8c87bfd 	ldp	x29, x30, [sp],#128
 274:	d65f03c0 	ret
 278:	340001a0 	cbz	w0, 2ac <monitor+0x214>
 27c:	52800016 	mov	w22, #0x0                   	// #0
 280:	58001593 	ldr	x19, 530 <monitor+0x498>
 284:	f94037a1 	ldr	x1, [x29,#104]
 288:	110006d6 	add	w22, w22, #0x1
 28c:	f8408420 	ldr	x0, [x1],#8
 290:	8b130000 	add	x0, x0, x19
 294:	f90037a1 	str	x1, [x29,#104]
 298:	f9400400 	ldr	x0, [x0,#8]
 29c:	94000000 	bl	0 <wake_up_process>
 2a0:	b9401b80 	ldr	w0, [x28,#24]
 2a4:	6b0002df 	cmp	w22, w0
 2a8:	54fffee3 	b.cc	284 <monitor+0x1ec>
 2ac:	d2912b00 	mov	x0, #0x8958                	// #35160
 2b0:	f2a00820 	movk	x0, #0x41, lsl #16
 2b4:	94000000 	bl	0 <__const_udelay>
 2b8:	94000000 	bl	0 <ktime_get>
 2bc:	f9001f80 	str	x0, [x28,#56]
 2c0:	b9401b85 	ldr	w5, [x28,#24]
 2c4:	34001045 	cbz	w5, 4cc <monitor+0x434>
 2c8:	58001301 	ldr	x1, 528 <monitor+0x490>
 2cc:	510004a4 	sub	w4, w5, #0x1
 2d0:	91000484 	add	x4, x4, #0x1
 2d4:	f9401382 	ldr	x2, [x28,#32]
 2d8:	580012c3 	ldr	x3, 530 <monitor+0x498>
 2dc:	8b040c24 	add	x4, x1, x4, lsl #3
 2e0:	f8408420 	ldr	x0, [x1],#8
 2e4:	8b030000 	add	x0, x0, x3
 2e8:	eb04003f 	cmp	x1, x4
 2ec:	f9400c00 	ldr	x0, [x0,#24]
 2f0:	8b000042 	add	x2, x2, x0
 2f4:	54ffff61 	b.ne	2e0 <monitor+0x248>
 2f8:	710004bf 	cmp	w5, #0x1
 2fc:	f9001382 	str	x2, [x28,#32]
 300:	54000d60 	b.eq	4ac <monitor+0x414>
 304:	510008a0 	sub	w0, w5, #0x2
 308:	7100081f 	cmp	w0, #0x2
 30c:	54000be9 	b.ls	488 <monitor+0x3f0>
 310:	510014a5 	sub	w5, w5, #0x5
 314:	71006cbf 	cmp	w5, #0x1b
 318:	54000da8 	b.hi	4cc <monitor+0x434>
 31c:	d2912b13 	mov	x19, #0x8958                	// #35160
 320:	d2802d16 	mov	x22, #0x168                 	// #360
 324:	f2a00833 	movk	x19, #0x41, lsl #16
 328:	aa1303e0 	mov	x0, x19
 32c:	94000000 	bl	0 <__const_udelay>
 330:	f10006d6 	subs	x22, x22, #0x1
 334:	54ffffa1 	b.ne	328 <monitor+0x290>
 338:	94000000 	bl	0 <ktime_get>
 33c:	f9002780 	str	x0, [x28,#72]
 340:	b9401b81 	ldr	w1, [x28,#24]
 344:	34000621 	cbz	w1, 408 <monitor+0x370>
 348:	58000f17 	ldr	x23, 528 <monitor+0x490>
 34c:	51000424 	sub	w4, w1, #0x1
 350:	91000484 	add	x4, x4, #0x1
 354:	f9401783 	ldr	x3, [x28,#40]
 358:	aa1703e2 	mov	x2, x23
 35c:	58000ea5 	ldr	x5, 530 <monitor+0x498>
 360:	8b040ee4 	add	x4, x23, x4, lsl #3
 364:	f8408440 	ldr	x0, [x2],#8
 368:	8b050000 	add	x0, x0, x5
 36c:	eb04005f 	cmp	x2, x4
 370:	f9400c00 	ldr	x0, [x0,#24]
 374:	8b000063 	add	x3, x3, x0
 378:	54ffff61 	b.ne	364 <monitor+0x2cc>
 37c:	58000eb3 	ldr	x19, 550 <monitor+0x4b8>
 380:	b203e7f6 	mov	x22, #0x6666666666666666    	// #7378697629483820646
 384:	58000d7b 	ldr	x27, 530 <monitor+0x498>
 388:	d2800018 	mov	x24, #0x0                   	// #0
 38c:	f28cccf6 	movk	x22, #0x6667
 390:	aa1303f9 	mov	x25, x19
 394:	f9001783 	str	x3, [x28,#40]
 398:	1400000c 	b	3c8 <monitor+0x330>
 39c:	f8787ae0 	ldr	x0, [x23,x24,lsl #3]
 3a0:	8b1b0000 	add	x0, x0, x27
 3a4:	f9400c01 	ldr	x1, [x0,#24]
 3a8:	f9400b80 	ldr	x0, [x28,#16]
 3ac:	eb00003f 	cmp	x1, x0
 3b0:	540009ec 	b.gt	4ec <monitor+0x454>
 3b4:	b9401b81 	ldr	w1, [x28,#24]
 3b8:	11000700 	add	w0, w24, #0x1
 3bc:	91000718 	add	x24, x24, #0x1
 3c0:	6b01001f 	cmp	w0, w1
 3c4:	54000222 	b.cs	408 <monitor+0x370>
 3c8:	7100803f 	cmp	w1, #0x20
 3cc:	54fffe89 	b.ls	39c <monitor+0x304>
 3d0:	f8787ae1 	ldr	x1, [x23,x24,lsl #3]
 3d4:	f94033a2 	ldr	x2, [x29,#96]
 3d8:	f9400b80 	ldr	x0, [x28,#16]
 3dc:	8b020021 	add	x1, x1, x2
 3e0:	f9400c23 	ldr	x3, [x1,#24]
 3e4:	9b567c01 	smulh	x1, x0, x22
 3e8:	9342fc21 	asr	x1, x1, #2
 3ec:	cb80fc20 	sub	x0, x1, x0, asr #63
 3f0:	eb00007f 	cmp	x3, x0
 3f4:	54fffe0d 	b.le	3b4 <monitor+0x31c>
 3f8:	2a1803e1 	mov	w1, w24
 3fc:	aa1303e0 	mov	x0, x19
 400:	94000000 	bl	0 <printk>
 404:	17ffffec 	b	3b4 <monitor+0x31c>
 408:	d29ef9e0 	mov	x0, #0xf7cf                	// #63439
 40c:	f9401f82 	ldr	x2, [x28,#56]
 410:	a9421784 	ldp	x4, x5, [x28,#32]
 414:	f2bc6a60 	movk	x0, #0xe353, lsl #16
 418:	f9402783 	ldr	x3, [x28,#72]
 41c:	f2d374a0 	movk	x0, #0x9ba5, lsl #32
 420:	f2e41880 	movk	x0, #0x20c4, lsl #48
 424:	cb0400a4 	sub	x4, x5, x4
 428:	9b407c45 	smulh	x5, x2, x0
 42c:	9b407c60 	smulh	x0, x3, x0
 430:	9347fca5 	asr	x5, x5, #7
 434:	9347fc00 	asr	x0, x0, #7
 438:	cb82fca2 	sub	x2, x5, x2, asr #63
 43c:	cb83fc03 	sub	x3, x0, x3, asr #63
 440:	580008c0 	ldr	x0, 558 <monitor+0x4c0>
 444:	a9050f82 	stp	x2, x3, [x28,#80]
 448:	94000000 	bl	0 <printk>
 44c:	580006a0 	ldr	x0, 520 <monitor+0x488>
 450:	94000000 	bl	0 <wait_for_completion>
 454:	b9401b81 	ldr	w1, [x28,#24]
 458:	58000840 	ldr	x0, 560 <monitor+0x4c8>
 45c:	94000000 	bl	0 <printk>
 460:	58000601 	ldr	x1, 520 <monitor+0x488>
 464:	b9401b80 	ldr	w0, [x28,#24]
 468:	b9402021 	ldr	w1, [x1,#32]
 46c:	6b01001f 	cmp	w0, w1
 470:	54ffe4a3 	b.cc	104 <monitor+0x6c>
 474:	580007a0 	ldr	x0, 568 <monitor+0x4d0>
 478:	94000000 	bl	0 <printk>
 47c:	52800020 	mov	w0, #0x1                   	// #1
 480:	b9006380 	str	w0, [x28,#96]
 484:	17ffff6e 	b	23c <monitor+0x1a4>
 488:	d2912b13 	mov	x19, #0x8958                	// #35160
 48c:	d2800f16 	mov	x22, #0x78                  	// #120
 490:	f2a00833 	movk	x19, #0x41, lsl #16
 494:	aa1303e0 	mov	x0, x19
 498:	94000000 	bl	0 <__const_udelay>
 49c:	f10006d6 	subs	x22, x22, #0x1
 4a0:	54ffffa1 	b.ne	494 <monitor+0x3fc>
 4a4:	17ffffa5 	b	338 <monitor+0x2a0>
 4a8:	94000000 	bl	0 <__stack_chk_fail>
 4ac:	d2912b13 	mov	x19, #0x8958                	// #35160
 4b0:	d2800796 	mov	x22, #0x3c                  	// #60
 4b4:	f2a00833 	movk	x19, #0x41, lsl #16
 4b8:	aa1303e0 	mov	x0, x19
 4bc:	94000000 	bl	0 <__const_udelay>
 4c0:	f10006d6 	subs	x22, x22, #0x1
 4c4:	54ffffa1 	b.ne	4b8 <monitor+0x420>
 4c8:	17ffff9c 	b	338 <monitor+0x2a0>
 4cc:	d2912b13 	mov	x19, #0x8958                	// #35160
 4d0:	d2805a16 	mov	x22, #0x2d0                 	// #720
 4d4:	f2a00833 	movk	x19, #0x41, lsl #16
 4d8:	aa1303e0 	mov	x0, x19
 4dc:	94000000 	bl	0 <__const_udelay>
 4e0:	f10006d6 	subs	x22, x22, #0x1
 4e4:	54ffffa1 	b.ne	4d8 <monitor+0x440>
 4e8:	17ffff94 	b	338 <monitor+0x2a0>
 4ec:	2a1803e1 	mov	w1, w24
 4f0:	aa1903e0 	mov	x0, x25
 4f4:	94000000 	bl	0 <printk>
 4f8:	17ffffaf 	b	3b4 <monitor+0x31c>
 4fc:	d503201f 	nop
	...

Disassembly of section .init.text:

0000000000000000 <init_module>:
   0:	a9bb7bfd 	stp	x29, x30, [sp,#-80]!
   4:	52800042 	mov	w2, #0x2                   	// #2
   8:	52802001 	mov	w1, #0x100                 	// #256
   c:	910003fd 	mov	x29, sp
  10:	a9025bf5 	stp	x21, x22, [sp,#32]
  14:	a90153f3 	stp	x19, x20, [sp,#16]
  18:	128002b3 	mov	w19, #0xffffffea            	// #-22
  1c:	f9001bf7 	str	x23, [sp,#48]
  20:	58000716 	ldr	x22, 100 <init_module+0x100>
  24:	58000777 	ldr	x23, 110 <init_module+0x110>
  28:	58000715 	ldr	x21, 108 <init_module+0x108>
  2c:	f94002c3 	ldr	x3, [x22]
  30:	f90027a3 	str	x3, [x29,#72]
  34:	d2800003 	mov	x3, #0x0                   	// #0
  38:	aa1703e0 	mov	x0, x23
  3c:	b90043a2 	str	w2, [x29,#64]
  40:	b94022b4 	ldr	w20, [x21,#32]
  44:	94000000 	bl	0 <__bitmap_weight>
  48:	b94022a1 	ldr	w1, [x21,#32]
  4c:	6b00003f 	cmp	w1, w0
  50:	54000428 	b.hi	d4 <init_module+0xd4>
  54:	aa1703e0 	mov	x0, x23
  58:	52802001 	mov	w1, #0x100                 	// #256
  5c:	94000000 	bl	0 <__bitmap_weight>
  60:	b94022a4 	ldr	w4, [x21,#32]
  64:	58000621 	ldr	x1, 128 <init_module+0x128>
  68:	6b00009f 	cmp	w4, w0
  6c:	51000480 	sub	w0, w4, #0x1
  70:	1a940014 	csel	w20, w0, w20, eq
  74:	58000522 	ldr	x2, 118 <init_module+0x118>
  78:	58000543 	ldr	x3, 120 <init_module+0x120>
  7c:	f874d825 	ldr	x5, [x1,w20,sxtw #3]
  80:	d2800001 	mov	x1, #0x0                   	// #0
  84:	58000560 	ldr	x0, 130 <init_module+0x130>
  88:	b86268a2 	ldr	w2, [x5,x2]
  8c:	94000000 	bl	0 <kthread_create_on_node>
  90:	58000555 	ldr	x21, 138 <init_module+0x138>
  94:	b140041f 	cmn	x0, #0x1, lsl #12
  98:	aa0003f3 	mov	x19, x0
  9c:	f90022a0 	str	x0, [x21,#64]
  a0:	540001a8 	b.hi	d4 <init_module+0xd4>
  a4:	2a1403e1 	mov	w1, w20
  a8:	94000000 	bl	0 <kthread_bind>
  ac:	f94022a0 	ldr	x0, [x21,#64]
  b0:	910103a2 	add	x2, x29, #0x40
  b4:	52800021 	mov	w1, #0x1                   	// #1
  b8:	94000000 	bl	0 <sched_setscheduler>
  bc:	2a0003f3 	mov	w19, w0
  c0:	350000a0 	cbnz	w0, d4 <init_module+0xd4>
  c4:	580003e0 	ldr	x0, 140 <init_module+0x140>
  c8:	94000000 	bl	0 <__module_get>
  cc:	f94022a0 	ldr	x0, [x21,#64]
  d0:	94000000 	bl	0 <wake_up_process>
  d4:	f94027a0 	ldr	x0, [x29,#72]
  d8:	f94002c1 	ldr	x1, [x22]
  dc:	ca010001 	eor	x1, x0, x1
  e0:	2a1303e0 	mov	w0, w19
  e4:	b4000041 	cbz	x1, ec <init_module+0xec>
  e8:	94000000 	bl	0 <__stack_chk_fail>
  ec:	a94153f3 	ldp	x19, x20, [sp,#16]
  f0:	a9425bf5 	ldp	x21, x22, [sp,#32]
  f4:	f9401bf7 	ldr	x23, [sp,#48]
  f8:	a8c57bfd 	ldp	x29, x30, [sp],#80
  fc:	d65f03c0 	ret
	...

Disassembly of section .exit.text:

0000000000000000 <cleanup_module>:
   0:	d65f03c0 	ret
